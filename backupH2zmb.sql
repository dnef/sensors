SET LOCK_MODE 3;              
;             
CREATE USER IF NOT EXISTS "SA" SALT '6855a48a52a13921' HASH 'a6930a044476746e9a6e1b9e7a7a279073f9594c7461ca8f54a49ca4effb4cd2' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."LOCATION"(
    "ID_LOCATION" INT NOT NULL,
    "NAME_LOC" VARCHAR(45) NOT NULL,
    "WORK_LOC" TINYINT DEFAULT 0 NOT NULL
);
ALTER TABLE "PUBLIC"."LOCATION" ADD CONSTRAINT "PUBLIC"."PK_LOCATION" PRIMARY KEY("ID_LOCATION");             
-- 10 +/- SELECT COUNT(*) FROM PUBLIC.LOCATION;               
INSERT INTO "PUBLIC"."LOCATION" VALUES
(1, STRINGDECODE('\u0421\u043a\u043b\u0430\u0434 \u0413\u0422\u042d\u0421 \u041a\u0418\u041f'), 1),
(2, 'GTU-1', 1),
(3, 'GTU-2', 0),
(4, 'GTU-3', 0),
(5, 'GTU-4', 0),
(6, 'GTU-5', 0),
(7, 'GTU-8', 1),
(8, 'GTU-6', 1),
(9, 'GTU-7', 0),
(10, STRINGDECODE('\u0414\u041a\u0421-1'), 1);   
CREATE CACHED TABLE "PUBLIC"."COUNTRY"(
    "ID_COUNTRY" INT NOT NULL,
    "COUNTRY_NAME" VARCHAR(45) NOT NULL
);          
ALTER TABLE "PUBLIC"."COUNTRY" ADD CONSTRAINT "PUBLIC"."PK_COUNTRY" PRIMARY KEY("ID_COUNTRY");
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.COUNTRY; 
INSERT INTO "PUBLIC"."COUNTRY" VALUES
(17, 'China'),
(16, 'Russian Federation'),
(18, 'USA');              
CREATE UNIQUE INDEX "PUBLIC"."COUNTRY_NAME_UNIQUE" ON "PUBLIC"."COUNTRY"("COUNTRY_NAME");     
CREATE CACHED TABLE "PUBLIC"."FIRM"(
    "ID_FIRM" INT NOT NULL,
    "NAME_FIRM" VARCHAR(45) NOT NULL
);   
ALTER TABLE "PUBLIC"."FIRM" ADD CONSTRAINT "PUBLIC"."PK_FIRM" PRIMARY KEY("ID_FIRM");         
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.FIRM;    
INSERT INTO "PUBLIC"."FIRM" VALUES
(1, 'Danfoss'),
(7, STRINGDECODE('\u0410\u041e \"\u0418\u041f\u0424 \"\u0421\u0438\u0431\u041d\u0410\" ')),
(6, STRINGDECODE('\u0410\u041e \u041f\u0413 \u041c\u0435\u0442\u0440\u0430\u043d'));        
CREATE UNIQUE INDEX "PUBLIC"."NAME_FIRM_UNIQUE" ON "PUBLIC"."FIRM"("NAME_FIRM");              
CREATE CACHED TABLE "PUBLIC"."TYPESENS"(
    "ID_TYPESENS" INT NOT NULL,
    "NAME_TYPE" VARCHAR(45) NOT NULL
);           
ALTER TABLE "PUBLIC"."TYPESENS" ADD CONSTRAINT "PUBLIC"."PK_TYPESENS" PRIMARY KEY("ID_TYPESENS");             
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.TYPESENS;
INSERT INTO "PUBLIC"."TYPESENS" VALUES
(8, STRINGDECODE('\u0414\u0430\u0442\u0447\u0438\u043a \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u044f')),
(7, STRINGDECODE('\u0414\u0430\u0442\u0447\u0438\u043a \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b')),
(9, STRINGDECODE('\u0422\u0435\u0441\u0442'));            
CREATE UNIQUE INDEX "PUBLIC"."NAME_TYPE_UNIQUE" ON "PUBLIC"."TYPESENS"("NAME_TYPE");          
CREATE CACHED TABLE "PUBLIC"."UNIT"(
    "ID_UNIT" INT NOT NULL,
    "UNIT_NAME" VARCHAR(45) NOT NULL
);   
ALTER TABLE "PUBLIC"."UNIT" ADD CONSTRAINT "PUBLIC"."PK_UNIT" PRIMARY KEY("ID_UNIT");         
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.UNIT;    
INSERT INTO "PUBLIC"."UNIT" VALUES
(1, 'Bar'),
(4, 'Pa'),
(3, 'Psi');      
CREATE UNIQUE INDEX "PUBLIC"."UNIT_NAME_UNIQUE" ON "PUBLIC"."UNIT"("UNIT_NAME");              
CREATE CACHED TABLE "PUBLIC"."MODEL_SENSOR"(
    "ID_MODEL" INT NOT NULL,
    "MODEL_NAME" VARCHAR(45) NOT NULL,
    "MODEL_VERSION" VARCHAR(45),
    "TYPESENS_ID" INT NOT NULL
);      
ALTER TABLE "PUBLIC"."MODEL_SENSOR" ADD CONSTRAINT "PUBLIC"."PK_MODEL_SENSOR" PRIMARY KEY("ID_MODEL");        
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.MODEL_SENSOR;            
INSERT INTO "PUBLIC"."MODEL_SENSOR" VALUES
(1, STRINGDECODE('\u0414\u0422\u0421 \u0442\u0435\u0441\u0442'), '125', 7),
(4, 'MBS3100', '060G1100', 8),
(5, STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', 9);             
CREATE INDEX "PUBLIC"."FK_MODEL_TYPESENS_IDX" ON "PUBLIC"."MODEL_SENSOR"("TYPESENS_ID");      
CREATE CACHED TABLE "PUBLIC"."SENSOR"(
    "ID_SENSOR" INT NOT NULL,
    "MODEL_ID" INT NOT NULL,
    "SENSOR_NUMB" VARCHAR(45) NOT NULL,
    "INVENTORY_NUMB" VARCHAR(45),
    "UNIT_ID" INT NOT NULL,
    "RANGE_MIN" INT,
    "RANGE_MAX" INT,
    "COUNTRY_ID" INT NOT NULL,
    "FIRM_ID" INT NOT NULL,
    "DATA_MANUFACTURE" DATE NOT NULL,
    "DATE_VERIFICATION" DATE NOT NULL,
    "INTERVAL_VERIFICATION" INT NOT NULL,
    "VERIFICATION" TINYINT DEFAULT 0 NOT NULL,
    "CALIBRATION" TINYINT DEFAULT 0 NOT NULL,
    "PASSPORT" TINYINT NOT NULL,
    "NOTE" VARCHAR(200)
); 
ALTER TABLE "PUBLIC"."SENSOR" ADD CONSTRAINT "PUBLIC"."PK_SENSOR" PRIMARY KEY("ID_SENSOR");   
-- 11 +/- SELECT COUNT(*) FROM PUBLIC.SENSOR; 
INSERT INTO "PUBLIC"."SENSOR" VALUES
(1, 4, '3454567', '1', 1, 0, 25, 17, 1, DATE '2019-06-11', DATE '2019-06-19', 12, 1, 1, 0, 'Test'),
(2, 1, '3423141231423421', '2', 4, 0, 80, 16, 7, DATE '2016-09-06', DATE '2016-09-06', 12, 0, 1, 1, NULL),
(3, 1, '666', '3', 1, 23, 50, 16, 7, DATE '2019-05-30', DATE '2019-06-14', 48, 1, 1, 1, NULL),
(16, 5, '1245780567', '4', 4, 0, 29, 18, 7, DATE '2017-06-15', DATE '2017-08-24', 12, 0, 1, 1, NULL),
(17, 5, '56', NULL, 4, 6, 7, 16, 7, DATE '2019-06-13', DATE '2019-06-20', 12, 1, 1, 1, NULL),
(26, 4, '4235', '', 1, 0, 6, 16, 7, DATE '2019-06-11', DATE '2019-06-18', 12, 1, 1, 1, NULL),
(27, 4, '7809', '', 1, 0, 6, 16, 7, DATE '2019-06-11', DATE '2019-06-18', 12, 1, 0, 1, NULL),
(28, 5, 'test1', '', 1, 0, 400, 17, 7, DATE '2019-06-25', DATE '2019-07-04', 12, 0, 0, 1, NULL),
(31, 5, '444444', '444444', 3, 0, 100, 16, 6, DATE '2019-06-10', DATE '2019-08-01', 12, 1, 0, 1, NULL),
(36, 4, '456Ab', '', 1, 0, 45, 17, 1, DATE '2019-08-01', DATE '2019-08-01', 12, 1, 0, 1, NULL),
(37, 4, '8888', '', 4, 0, 2, 17, 7, DATE '2019-08-01', DATE '2019-08-01', 12, 1, 0, 0, NULL);          
CREATE UNIQUE INDEX "PUBLIC"."SENSOR_NUMB_UNIQUE" ON "PUBLIC"."SENSOR"("SENSOR_NUMB");        
CREATE INDEX "PUBLIC"."FK_SENSOR_COUNTRY_IDX" ON "PUBLIC"."SENSOR"("COUNTRY_ID");             
CREATE INDEX "PUBLIC"."FK_SENSOR_FIRM_IDX" ON "PUBLIC"."SENSOR"("FIRM_ID");   
CREATE INDEX "PUBLIC"."FK_SENSOR_MODEL_IDX" ON "PUBLIC"."SENSOR"("MODEL_ID"); 
CREATE INDEX "PUBLIC"."FK_SENSOR_UNIT_IDX" ON "PUBLIC"."SENSOR"("UNIT_ID");   
CREATE CACHED TABLE "PUBLIC"."ARCHIVE"(
    "ID_ARCHIVE" INT NOT NULL,
    "LOCATION_ID" INT NOT NULL,
    "SENSOR_ID" INT NOT NULL,
    "INSTALL_DATE" TIMESTAMP NOT NULL,
    "NOTE" VARCHAR(200)
);  
ALTER TABLE "PUBLIC"."ARCHIVE" ADD CONSTRAINT "PUBLIC"."PK_ARCHIVE" PRIMARY KEY("ID_ARCHIVE");
-- 22 +/- SELECT COUNT(*) FROM PUBLIC.ARCHIVE;
INSERT INTO "PUBLIC"."ARCHIVE" VALUES
(3, 1, 17, TIMESTAMP '2019-06-30 14:18:18', NULL),
(4, 8, 17, TIMESTAMP '2019-06-30 14:19:04', NULL),
(5, 1, 17, TIMESTAMP '2019-06-30 14:19:40', NULL),
(6, 7, 17, TIMESTAMP '2019-06-30 14:19:40', NULL),
(7, 1, 3, TIMESTAMP '2019-06-30 15:05:17', NULL),
(8, 1, 27, TIMESTAMP '2019-08-08 17:50:19', STRINGDECODE('\u0441\u043d\u044f\u0442')),
(9, 3, 27, TIMESTAMP '2019-08-08 17:50:19', '* TRIAL * '),
(10, 1, 27, TIMESTAMP '2019-08-08 17:51:29', STRINGDECODE('\u0441\u043d\u044f\u0442')),
(11, 2, 27, TIMESTAMP '2019-08-08 17:51:29', STRINGDECODE('\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d')),
(12, 1, 27, TIMESTAMP '2019-08-08 18:29:23', '* TRIAL * TRIAL * TRIAL * TRIA'),
(13, 4, 3, TIMESTAMP '2019-08-08 18:40:40', '* TRIAL * '),
(14, 1, 3, TIMESTAMP '2019-08-08 18:42:23', STRINGDECODE('\u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434')),
(15, 1, 26, TIMESTAMP '2019-08-08 18:54:56', '* TRIAL * TRIAL * TRIAL * TRIA'),
(16, 4, 26, TIMESTAMP '2019-08-08 18:54:56', '* TRIAL * '),
(17, 1, 26, TIMESTAMP '2019-08-08 18:57:00', '* TRIAL * TRIAL * TRIAL * TRIA'),
(18, 4, 27, TIMESTAMP '2019-08-08 19:05:00', STRINGDECODE('\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d')),
(19, 5, 3, TIMESTAMP '2019-08-08 21:52:29', '* TRIAL * '),
(20, 1, 3, TIMESTAMP '2019-08-08 21:55:03', STRINGDECODE('\u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434')),
(22, 1, 1, TIMESTAMP '2019-08-08 23:24:35', STRINGDECODE('\u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434')),
(23, 4, 1, TIMESTAMP '2019-08-08 23:24:35', STRINGDECODE('\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d')),
(40, 5, 31, TIMESTAMP '2019-08-09 20:09:05', STRINGDECODE('\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d')),
(41, 3, 37, TIMESTAMP '2019-08-12 11:08:27', STRINGDECODE('\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d')); 
CREATE INDEX "PUBLIC"."FK_ARCHIVE_LOCATION_IDX" ON "PUBLIC"."ARCHIVE"("LOCATION_ID");         
CREATE INDEX "PUBLIC"."FK_ARCHIVE_SENSOR_IDX" ON "PUBLIC"."ARCHIVE"("SENSOR_ID");             
CREATE CACHED TABLE "PUBLIC"."DISPOSAL"(
    "ID_DISPOSAL" INT NOT NULL,
    "TYPE_SENSOR" VARCHAR(45) NOT NULL,
    "MODEL_SENSOR" VARCHAR(45) NOT NULL,
    "VERSION_SENSOR" VARCHAR(45) NOT NULL,
    "NUMBER_SENSOR" VARCHAR(45) NOT NULL,
    "INVENTORY_NUMBER_SENSOR" VARCHAR(45),
    "DATE_DISPOSAL" TIMESTAMP NOT NULL,
    "NOTE" VARCHAR(200)
);         
ALTER TABLE "PUBLIC"."DISPOSAL" ADD CONSTRAINT "PUBLIC"."PK_DISPOSAL" PRIMARY KEY("ID_DISPOSAL");             
-- 13 +/- SELECT COUNT(*) FROM PUBLIC.DISPOSAL;               
INSERT INTO "PUBLIC"."DISPOSAL" VALUES
(5, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '99999', '99999', TIMESTAMP '2019-08-09 14:05:42', '* TRIAL * TRIAL * TRIAL * TRIA'),
(6, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '99999', '99999', TIMESTAMP '2019-08-09 14:18:43', STRINGDECODE('\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d')),
(7, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '99999', '99999', TIMESTAMP '2019-08-09 14:18:43', STRINGDECODE('\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d')),
(8, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '99999', '99999', TIMESTAMP '2019-08-09 14:18:43', STRINGDECODE('\u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434')),
(9, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '99999', '99999', TIMESTAMP '2019-08-09 14:18:43', STRINGDECODE('\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d')),
(10, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '99999', '99999', TIMESTAMP '2019-08-09 14:18:43', STRINGDECODE('\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d')),
(11, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '99999', '99999', TIMESTAMP '2019-08-09 14:18:43', STRINGDECODE('\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d')),
(12, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '99999', '99999', TIMESTAMP '2019-08-09 14:18:43', STRINGDECODE('\u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434')),
(13, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '99999', '99999', TIMESTAMP '2019-08-09 14:18:43', '* TRIAL * '),
(14, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '99999', '99999', TIMESTAMP '2019-08-09 14:18:43', STRINGDECODE('\u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434')),
(15, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '333333', '333333', TIMESTAMP '2019-08-09 19:54:14', '* TRIAL * '),
(16, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '333333', '333333', TIMESTAMP '2019-08-09 19:54:14', STRINGDECODE('\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434')),
(17, STRINGDECODE('\u0422\u0435\u0441\u0442'), STRINGDECODE('\u0422\u0435\u0441\u0442'), 'ver', '333333', '333333', TIMESTAMP '2019-08-09 19:54:14', STRINGDECODE('\u0423\u0442\u0438\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d(\u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d \u0441\u043e \u0441\u043a\u043b\u0430\u0434\u0430)'));      
CREATE CACHED TABLE "PUBLIC"."LOCATION_INSTALL"(
    "ID_LOCATION_INSTALL" INT NOT NULL,
    "LOCATION_ID" INT NOT NULL,
    "SENSOR_ID" INT NOT NULL
);  
ALTER TABLE "PUBLIC"."LOCATION_INSTALL" ADD CONSTRAINT "PUBLIC"."PK_LOCATION_INSTALL" PRIMARY KEY("ID_LOCATION_INSTALL");     
-- 7 +/- SELECT COUNT(*) FROM PUBLIC.LOCATION_INSTALL;        
INSERT INTO "PUBLIC"."LOCATION_INSTALL" VALUES
(1, 4, 1),
(12, 1, 26),
(13, 2, 2),
(14, 4, 27),
(15, 1, 3),
(21, 5, 31),
(22, 3, 37);  
CREATE UNIQUE INDEX "PUBLIC"."SENSOR_ID" ON "PUBLIC"."LOCATION_INSTALL"("SENSOR_ID");         
CREATE INDEX "PUBLIC"."FK_LOCATION_INSTALL_LOCATION_IDX" ON "PUBLIC"."LOCATION_INSTALL"("LOCATION_ID");       
ALTER TABLE "PUBLIC"."ARCHIVE" ADD CONSTRAINT "PUBLIC"."FK_ARCHIVE_SENSOR" FOREIGN KEY("SENSOR_ID") REFERENCES "PUBLIC"."SENSOR"("ID_SENSOR") NOCHECK;        
ALTER TABLE "PUBLIC"."SENSOR" ADD CONSTRAINT "PUBLIC"."FK_SENSOR_COUNTRY" FOREIGN KEY("COUNTRY_ID") REFERENCES "PUBLIC"."COUNTRY"("ID_COUNTRY") NOCHECK;      
ALTER TABLE "PUBLIC"."MODEL_SENSOR" ADD CONSTRAINT "PUBLIC"."FK_MODEL_TYPESENS" FOREIGN KEY("TYPESENS_ID") REFERENCES "PUBLIC"."TYPESENS"("ID_TYPESENS") NOCHECK;             
ALTER TABLE "PUBLIC"."SENSOR" ADD CONSTRAINT "PUBLIC"."FK_SENSOR_UNIT" FOREIGN KEY("UNIT_ID") REFERENCES "PUBLIC"."UNIT"("ID_UNIT") NOCHECK;  
ALTER TABLE "PUBLIC"."ARCHIVE" ADD CONSTRAINT "PUBLIC"."FK_ARCHIVE_LOCATION" FOREIGN KEY("LOCATION_ID") REFERENCES "PUBLIC"."LOCATION"("ID_LOCATION") NOCHECK;
ALTER TABLE "PUBLIC"."SENSOR" ADD CONSTRAINT "PUBLIC"."FK_SENSOR_MODEL" FOREIGN KEY("MODEL_ID") REFERENCES "PUBLIC"."MODEL_SENSOR"("ID_MODEL") NOCHECK;       
ALTER TABLE "PUBLIC"."LOCATION_INSTALL" ADD CONSTRAINT "PUBLIC"."FK_LOCATION_INSTALL_LOCATION" FOREIGN KEY("LOCATION_ID") REFERENCES "PUBLIC"."LOCATION"("ID_LOCATION") NOCHECK;              
ALTER TABLE "PUBLIC"."SENSOR" ADD CONSTRAINT "PUBLIC"."FK_SENSOR_FIRM" FOREIGN KEY("FIRM_ID") REFERENCES "PUBLIC"."FIRM"("ID_FIRM") NOCHECK;  
ALTER TABLE "PUBLIC"."LOCATION_INSTALL" ADD CONSTRAINT "PUBLIC"."FK_LOCATION_INSTALL_SENSOR" FOREIGN KEY("SENSOR_ID") REFERENCES "PUBLIC"."SENSOR"("ID_SENSOR") NOCHECK;      
